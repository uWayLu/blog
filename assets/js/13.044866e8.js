(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{456:function(e,t){e.exports="data:image/png;base64,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"},495:function(e,t,a){"use strict";a.r(t);var r=a(8),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("故事是這樣，PHP 寫了四年，"),r("br"),e._v("\n期間玩過 1 年的 CodeIgniter 3，2 個月的 Laravel 5，"),r("br"),e._v("\n2 年的 Slim 3 搭配 Laravel 的 Eloquent，但對 Laravel 本身不算熟悉。")]),e._v(" "),r("p",[e._v("感謝某橘提供的關鍵字 "),r("strong",[e._v("Realworld。")])]),e._v(" "),r("h2",{attrs:{id:"realworld-是什麼"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#realworld-是什麼"}},[e._v("#")]),e._v(" Realworld 是什麼？")]),e._v(" "),r("p",[r("a",{attrs:{href:"http://realworld.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("gothinkster/realworld"),r("OutboundLink")],1)]),e._v(" "),r("blockquote",[r("p",[e._v('"The mother of all demo apps" — Exemplary fullstack '),r("a",{attrs:{href:"http://medium.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Medium.com"),r("OutboundLink")],1),e._v(" clone powered by React, Angular, Node, Django, and many more 🏅")])]),e._v(" "),r("p",[e._v("你可以在這裡找到各種語言或框架在實際開發時，可能會遇到的應用範例。")]),e._v(" "),r("h2",{attrs:{id:"那麼要怎麼開始呢"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#那麼要怎麼開始呢"}},[e._v("#")]),e._v(" 那麼要怎麼開始呢")]),e._v(" "),r("p",[e._v("開發環境我選擇 "),r("code",[e._v("laradock")]),e._v(" ，理由是 docker 的易配置，且工作時已經熟悉，"),r("br"),e._v("\n並把焦點放在 laravel-realworld-example-app 本身上。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/gothinkster/laravel-realworld-example-app",target:"_blank",rel:"noopener noreferrer"}},[e._v("gothinkster/laravel-realworld-example-app"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("跟著 "),r("a",{attrs:{href:"http://readme.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("README.m"),r("OutboundLink")],1),e._v("d 手把手，docker 環境相關部分的另外紀錄。")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("移除 "),r("code",[e._v("composer.lock")]),e._v(" 再做 "),r("code",[e._v("composer install")])]),e._v(" "),r("p",[e._v("原本的 composer.lock 內容會因為相依套件的版本問題，"),r("br"),e._v("\n而無法正常安裝；開發環境我們不 care composer.lock")])]),e._v(" "),r("li",[r("p",[r("code",[e._v("~~php artisan serve~~")]),e._v(" and You can now access the server at "),r("a",{attrs:{href:"http://localhost:8000/",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:8000"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("環境配置是在容器中，由 nginx 做 Web Server，"),r("br"),e._v("\n配置域名設定檔到 "),r("code",[e._v("laravel.realworld.conf")]),r("br"),e._v("\n將域名 "),r("code",[e._v("laravel.realworld.test")]),e._v(" 加到本機 hosts")]),e._v(" "),r("p",[e._v("如果系統有裝 php，也可以在外面玩 "),r("code",[e._v("php artisan serve")]),r("br"),e._v("\n想在容器中跑的話，要另外 expose port，見以下")])]),e._v(" "),r("li",[r("p",[e._v("或可以使用專案中直接提供的 docker 配置，"),r("code",[e._v("./docker")])])])]),e._v(" "),r("h2",{attrs:{id:"接下來讀-code-吧-範例中"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#接下來讀-code-吧-範例中"}},[e._v("#")]),e._v(" 接下來讀 Code 吧，範例中……")]),e._v(" "),r("h3",{attrs:{id:"實作-api-tests"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#實作-api-tests"}},[e._v("#")]),e._v(" 實作 API Tests")]),e._v(" "),r("p",[e._v("可以看到，laravel 中也是使用 phpunit 來做測試")]),e._v(" "),r("ul",[r("li",[r("p",[r("code",[e._v("phpunit tests/Feature/Api/UserTest.php")])]),e._v(" "),r("p",[e._v("得到以下錯誤")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("Caused by\nPDOException: SQLSTATE"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("HY000"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("1044")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" Access denied "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" user "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'default'")]),e._v("@"),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'%'")]),e._v(" to database "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'realworld_test'")]),e._v("\n")])])]),r("p",[e._v("可以看見 phpunit.xml 中配置了 phpunit 測試時需要的環境變數")]),e._v(" "),r("p",[e._v("手動建立對應測試用 Database")]),e._v(" "),r("div",{staticClass:"language-sql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sql"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 進到容器中 mysql")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("DATABASE")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'realworld_test'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("GRANT")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ALL")]),e._v(" PRIVILEGERS "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ON")]),e._v(" realworld_test"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TO")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'default'")]),r("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@'%'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nFLUSH "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("PRIVILEGES")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),r("p",[e._v("現在可以成功連接測試資料庫了，換成其他錯誤")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("Caused by\nErrorException: Using integers "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" registered "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("date")]),e._v(" claims is deprecated, please use DateTimeImmutable objects instead.\n")])])]),r("p",[e._v("手動降 lcobucci/jwt 版本可解")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("composer")]),e._v(" require lcobucci/jwt:3.3.3\n")])])]),r("p",[r("img",{attrs:{src:a(456),alt:"phpunit passed"}}),r("br"),e._v("\n到這邊 pass")])]),e._v(" "),r("li",[r("p",[e._v("api 的 http test 實作？看 "),r("code",[e._v("UserTest.it_returns_the_current_user_when_logged_in()")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://laravel.tw/docs/5.2/testing",target:"_blank",rel:"noopener noreferrer"}},[e._v("Testing"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Illuminate\\Foundation\\Testing\\Concerns 中的 MakesHttpRequests trait，"),r("br"),e._v("\n提供了模擬 http 請求與回應，測試方法則斷言回應內容。")]),e._v(" "),r("p",[e._v("Testcase 使用 DatabaseMigrations trait，"),r("br"),e._v("\n在每次測試執行前後分別自動執行 migrate:fresh 與 migrate:rollback，"),r("br"),e._v("\n產生臨時的測試資料庫。")])]),e._v(" "),r("li",[r("p",[e._v("其他的測試案例大同小異；jsonBody的部分，一樣只斷言驗證是否為 json"),r("br"),e._v("\n要驗證 json property required 和 type, 可用 justinrainbow/json-schema")])])]),e._v(" "),r("h3",{attrs:{id:"migrate-seed-與-phinx-的異同"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#migrate-seed-與-phinx-的異同"}},[e._v("#")]),e._v(" Migrate/Seed 與 phinx 的異同")]),e._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[e._v("php artisan list migrate\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# outputs")]),e._v("\nAvailable commands "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" the "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v('"migrate"')]),e._v(" namespace:\n  migrate:fresh     Drop all tables and re-run all migrations\n  migrate:install   Create the migration repository\n  migrate:refresh   Reset and re-run all migrations\n  migrate:reset     Rollback all database migrations\n  migrate:rollback  Rollback the last database migration\n  migrate:status    Show the status of each migration\n\nphp artisan "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v(" migrate\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# outputs")]),e._v("\nUsage:\n  migrate "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("options"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n\nOptions:\n      --database"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("DATABASE"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("  The database connection to use.\n      --force                Force the operation to run when "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" production.\n      --path"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("PATH")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("          The path of migrations files to be executed.\n      --pretend              Dump the SQL queries that would be run.\n      --seed                 Indicates "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" the seed task should be re-run.\n      --step                 Force the migrations to be run so they can be rolled back individually.\n  -h, --help                 Display this "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v(" message\n  -q, --quiet                Do not output any message\n  -V, --version              Display this application version\n      --ansi                 Force ANSI output\n      --no-ansi              Disable ANSI output\n  -n, --no-interaction       Do not ask any interactive question\n      --env"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ENV"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("            The environment the "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("command")]),e._v(" should run under\n  -v"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("vv"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("vvv, --verbose       Increase the verbosity of messages: "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" normal output, "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("more")]),e._v(" verbose output and "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" debug\n\nHelp:\n  Run the database migrations\n")])])]),r("p",[e._v("都有提供 migrate 跟 seed，細節使用時再搭配文件；"),r("br"),e._v("\nlaravel artisan 另外提供了 "),r("code",[e._v("refresh")]),e._v(", "),r("code",[e._v("fresh")]),e._v(", "),r("code",[e._v("reset")]),e._v(" 操作；"),r("br"),e._v("\nphinx 有提供 Dry-Run 功能 "),r("code",[e._v("$command —dry-run | -x")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://laravel.tw/docs/5.2/migrations",target:"_blank",rel:"noopener noreferrer"}},[e._v("Database: Migrations"),r("OutboundLink")],1),r("br"),e._v(" "),r("a",{attrs:{href:"https://laravel.tw/docs/5.2/seeding",target:"_blank",rel:"noopener noreferrer"}},[e._v("Database: Seeding"),r("OutboundLink")],1),r("br"),e._v(" "),r("a",{attrs:{href:"https://book.cakephp.org/phinx/0/en/commands.html#the-migrate-command",target:"_blank",rel:"noopener noreferrer"}},[e._v("Commands - 0.12"),r("OutboundLink")],1)]),e._v(" "),r("h3",{attrs:{id:"app-config"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#app-config"}},[e._v("#")]),e._v(" App Config")]),e._v(" "),r("ul",[r("li",[e._v("Laravel 中的 configuration 有預設值，在 "),r("code",[e._v("config/*.php")]),e._v(" 中，\n部分可以透過 "),r("code",[e._v(".env")]),e._v(" 變更")]),e._v(" "),r("li",[e._v("標記：沒概念的 "),r("code",[e._v("services.php")])])]),e._v(" "),r("h3",{attrs:{id:"相依-laravel-cors-如何處理-cors"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#相依-laravel-cors-如何處理-cors"}},[e._v("#")]),e._v(" 相依 laravel-cors 如何處理 CORS")]),e._v(" "),r("ul",[r("li",[e._v("注意 "),r("code",[e._v("config/cors.php")])])]),e._v(" "),r("h3",{attrs:{id:"database"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#database"}},[e._v("#")]),e._v(" Database")]),e._v(" "),r("ul",[r("li",[r("p",[r("code",[e._v("database/factories/ModelFactory.php")])]),e._v(" "),r("p",[r("a",{attrs:{href:"https://laravel.com/docs/5.5/database-testing",target:"_blank",rel:"noopener noreferrer"}},[e._v("Database Testing"),r("OutboundLink")],1)]),e._v(" "),r("blockquote",[r("p",[r("strong",[e._v("Writing Factories")]),e._v("\nWhen testing, you may need to insert a few records into your database before executing your test. Instead of manually specifying the value of each column when you create this test data, Laravel allows you to define a default set of attributes for each of your Eloquent models using model factories. ...")])])])]),e._v(" "),r("h3",{attrs:{id:"routes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#routes"}},[e._v("#")]),e._v(" Routes")]),e._v(" "),r("ul",[r("li",[e._v("標記：沒概念的 "),r("code",[e._v("channels.php")])])]),e._v(" "),r("h3",{attrs:{id:"app"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#app"}},[e._v("#")]),e._v(" App")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("Service Provider?")])]),e._v(" "),r("p",[e._v("Laravel 實作 DI 的方式")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://medium.com/mr-efacani-teatime/laravel%E5%A6%82%E4%BD%95%E5%AF%A6%E7%8F%BE%E4%BE%9D%E8%B3%B4%E6%80%A7%E6%B3%A8%E5%85%A5-d760c8e5abde",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel如何實現依賴性注入？"),r("OutboundLink")],1)]),e._v(" "),r("blockquote",[r("p",[e._v("Laravel藉由Service Container與Service Provider實現了依賴性注入，達到低耦合、易擴展的特性。理解何時使用Service Provider，有助於我們實作良好的系統，這也是這份筆記希望研討的主要議題。"),r("br"),e._v("\n先講結論--Service Provider適合使用在以下時機："),r("br"),e._v("\n1.希望實踐依賴介面而不是類別的注入時。"),r("br"),e._v("\n2.希望建立全域(global)的依賴實例時。"),r("br"),e._v("\n3.希望根據狀況，回傳不同的依賴實例時。")])]),e._v(" "),r("p",[e._v("Slim3 中則是以 "),r("code",[e._v("$container['MySerivce']")]),e._v("手動注入到 container，"),r("br"),e._v("\n同質 Service 是否依賴介面，由開發者自行決定與實作，"),r("br"),e._v("\n是否使用單例模式開發者也需自行處理")]),e._v(" "),r("p",[e._v("不管是哪個框架，無論變數還是實例，都應該思考"),r("strong",[e._v("全域")]),e._v("的必要性")])])]),e._v(" "),r("h3",{attrs:{id:"realworld"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#realworld"}},[e._v("#")]),e._v(" Realworld")]),e._v(" "),r("ul",[r("li",[r("p",[e._v("Model implements Contracts")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://laravel.tw/docs/5.3/contracts",target:"_blank",rel:"noopener noreferrer"}},[e._v("Contracts"),r("OutboundLink")],1)])]),e._v(" "),r("li",[r("p",[e._v("Controllers "),r("code",[e._v("extends ApiController")])]),e._v(" "),r("p",[e._v("熟悉的味道；這邊我先前的習慣是會將 ApiController 定為抽象類別，"),r("br"),e._v("\n是為了擴充性而保留？或只是習慣問題。")])])]),e._v(" "),r("h2",{attrs:{id:"延伸閱讀"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#延伸閱讀"}},[e._v("#")]),e._v(" 延伸閱讀")]),e._v(" "),r("p",[e._v("core packages; 相依套件；....")]),e._v(" "),r("h3",{attrs:{id:"symfony"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#symfony"}},[e._v("#")]),e._v(" Symfony")]),e._v(" "),r("p",[e._v("下回分曉！")])])}),[],!1,null,null,null);t.default=s.exports}}]);
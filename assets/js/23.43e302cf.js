(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{488:function(e,t,r){"use strict";r.r(t);var s=r(8),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"描述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#描述"}},[e._v("#")]),e._v(" 描述")]),e._v(" "),r("p",[e._v("About "),r("a",{attrs:{href:"https://rclone.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Rclone"),r("OutboundLink")],1)]),e._v(" "),r("blockquote",[r("p",[e._v("Rclone is a command line program to manage files on cloud storage. It is a feature rich alternative to cloud vendors' web storage interfaces. Over 40 cloud storage products support rclone including S3 object stores, business & consumer file storage services, as well as standard transfer protocols.")])]),e._v(" "),r("ul",[r("li",[e._v("[x] rclone 存取 google drive")]),e._v(" "),r("li",[e._v("[ ] rclone backup 到 gogole drive 的腳本")]),e._v(" "),r("li",[e._v("[ ] crontab 排程執行，並發送執行結果到 Discord")])]),e._v(" "),r("p",[e._v("Arch install from AUR "),r("code",[e._v("yay clone")])]),e._v(" "),r("h3",{attrs:{id:"rclone-存取-google-drive"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rclone-存取-google-drive"}},[e._v("#")]),e._v(" rclone 存取 google drive")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://rclone.org/drive/#making-your-own-client-id",target:"_blank",rel:"noopener noreferrer"}},[e._v("取得 client id"),r("OutboundLink")],1)])]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("rclone config\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" ~/gdrive\nrclone "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("mount")]),e._v(" gd: /mnt/gdrive --allow-non-empty --vfs-cache-mode writes\n"),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("df")]),e._v(" -h ~/gdrive\n")])])]),r("blockquote",[r("p",[e._v("建立在家目錄下; 如果是多人使用電腦，有個 --allow-other-user 選項\ndf 觀看硬碟用量，確認掛載成功")])]),e._v(" "),r("h4",{attrs:{id:"自動掛載-with-systemd"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#自動掛載-with-systemd"}},[e._v("#")]),e._v(" 自動掛載 with systemd")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# /usr/lib/systemd/system/rclone.service")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("Unit"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("Description")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("rclone daemon\n"),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("After")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("network.target\n \n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("Service"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("User")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("ywl\n"),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ExecStart")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/usr/bin/rclone "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("mount")]),e._v(" gd: /home/ywl/gdrive --allow-non-empty --vfs-cache-mode writes\n"),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("ExecStop")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/usr/bin/fusermount -uz /home/ywl/gdrive\n"),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("Restart")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("on-abort\n \n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("Install"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("WantedBy")]),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("multi-user.target\n")])])]),r("p",[e._v("@"),r("a",{attrs:{href:"https://gist.github.com/uWayLu/9836d2f52fd980d92d64f6106690d1a2.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("gist"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("這個是只掛一個盤的使用，多個盤可以參考 "),r("a",{attrs:{href:"https://gist.github.com/gmag11/dc139ffd6a8ca8b622e98ca6422f8d79",target:"_blank",rel:"noopener noreferrer"}},[e._v("gmag11/rclone-mount@.service"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"小結"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#小結"}},[e._v("#")]),e._v(" 小結")]),e._v(" "),r("p",[e._v("乖乖把鳥哥看一遍好嗎！")]),e._v(" "),r("h1",{attrs:{id:"references"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://rclone.org/commands/rclone_mount/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Rclone mount"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://unix.stackexchange.com/questions/564443/what-does-restart-on-abort-mean-in-a-systemd-service",target:"_blank",rel:"noopener noreferrer"}},[e._v("What does Restart=on-abort mean in a systemd service?\n"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://askubuntu.com/questions/922730/rc-local-vs-upstart-vs-systemd",target:"_blank",rel:"noopener noreferrer"}},[e._v("rc.local vs upstart vs systemd [closed]"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"http://linux.vbird.org/linux_basic/0560daemons.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("鳥哥：第十七章、認識系統服務 (daemons)"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://wiki.archlinux.org/index.php/Systemd_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)",target:"_blank",rel:"noopener noreferrer"}},[e._v("ArckWiki: systemd"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=a.exports}}]);
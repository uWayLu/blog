(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{469:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"學習-laravel-的-routes-與-mvc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#學習-laravel-的-routes-與-mvc"}},[t._v("#")]),t._v(" 學習 Laravel 的 routes 與 MVC")]),t._v(" "),e("p",[t._v("本系列筆記跟隨 "),e("a",{attrs:{href:"https://github.com/johnlui/Learn-Laravel-5/",title:"2016 版 Laravel 系列入门教程",target:"_blank",rel:"noopener noreferrer"}},[t._v("johnlui/Learn-Laravel-5"),e("OutboundLink")],1),t._v(" 的教學脈絡；"),e("br"),t._v(" "),e("a",{attrs:{href:"https://github.com/johnlui/Learn-Laravel-5/issues/6",title:"2016 版 Laravel 系列入门教程（三）",target:"_blank",rel:"noopener noreferrer"}},[t._v("2016 版 Laravel 系列入门教程（三）"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("所有 PHP 框架的核心路由系統，定義訪問 URL 所映射的 MVC code 片段。")]),t._v(" "),e("h2",{attrs:{id:"路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 路由")]),t._v(" "),e("p",[t._v("閱讀 "),e("a",{attrs:{href:"https://laravel.com/docs/5.4/routing",title:"Laravel 5.4 Docs: Routing",target:"_blank",rel:"noopener noreferrer"}},[t._v("Laravel 5.4 Routing 官方文檔"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("Note")]),t._v(": 5.3+ 版本的路由檔案規劃和舊版本不同，新版異動後的路由設置在 yourLaravelApp/routes/下，並預先規劃好四種不同用途的 routes。")])]),t._v(" "),e("h3",{attrs:{id:"閉包-closure-路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#閉包-closure-路由"}},[t._v("#")]),t._v(" 閉包( Closure ) 路由")]),t._v(" "),e("p",[t._v("code 有一種 js 感；直接閉包 function 內解決簡單操作。範例如下：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Route"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/phpinfo'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("phpinfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"一般路由：映射至對應的控制器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一般路由：映射至對應的控制器"}},[t._v("#")]),t._v(" 一般路由：映射至對應的控制器")]),t._v(" "),e("p",[t._v("有一種 restful 感，對同樣 url 根據不同的 request 返回相對應的 reply。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Route"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HomeController@index'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nRoute"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HomeController@function_for_post_request'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("小彩蛋討論串："),e("a",{attrs:{href:"https://www.zhihu.com/question/31330386/answer/51544599",title:"这个laravel路由怎么写?",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个laravel路由怎么写?"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"命名空間"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命名空間"}},[t._v("#")]),t._v(" 命名空間")]),t._v(" "),e("p",[t._v("閱讀大神的科普文 "),e("a",{attrs:{href:"https://lvwenhan.com/php/401.html",title:"PHP 命名空间 解惑",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP 命名空间 解惑"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("ol",[e("li",[t._v("namespace 和 path/to/dir/file.* 並無關係；抽象的邏輯資料夾概念。")]),t._v(" "),e("li",[t._v("必須在 PHP 程式宣告後第一行 "),e("code",[t._v("<?php")]),t._v(" 後定義命名空間；反正放錯位置就會報錯，錯幾次就熟了QQ。")]),t._v(" "),e("li",[e("code",[t._v("use \\name\\space as namespace_alias")]),t._v(" 可以指定 alias name，此例中未指定預設 Class name 為 space。")]),t._v(" "),e("li",[t._v("可以透過命名空間調用其它 Class 的靜態方法。")])]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("Note")]),t._v(": 在第 1 點提到 namespace 與實際 path 並無關係，為了方便會與實際文件系統路徑一致。"),e("a",{attrs:{href:"https://github.com/PizzaLiu/PHP-FIG",title:"PHP编码规范（中文版）导读",target:"_blank",rel:"noopener noreferrer"}},[t._v("PSR-4 命名空間規範 CN"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"extra-php-運行流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extra-php-運行流程"}},[t._v("#")]),t._v(" Extra: PHP 運行流程")]),t._v(" "),e("p",[t._v("摘錄自 "),e("a",{attrs:{href:"https://lvwenhan.com/php/401.html",title:"PHP 命名空间 解惑",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP 命名空间 解惑"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("blockquote",[e("h4",{attrs:{id:"php-运行流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-运行流程"}},[t._v("#")]),t._v(" PHP 运行流程")]),t._v(" "),e("p",[t._v("在一个典型的 Apache +  mod_php 架构的 PHP 运行环境中，一个 PHP 网站是这样运行的：")]),t._v(" "),e("ol",[e("li",[t._v("Apache 收到用户的 HTTP 请求")]),t._v(" "),e("li",[t._v("这个请求是以 .php 结尾或者是一个不存在的路径（.htaccess 会将其转发到 index.php）")]),t._v(" "),e("li",[t._v("Apache 的 mod_php 会启动一个新的 PHP 进程（PHP 解释器），读取 HTTP 请求的 URL 中的那个 .php 文件或者 index.php")]),t._v(" "),e("li",[t._v("被读取进 PHP 解释器的字符串被按照 PHP 的语法进行解析。为了方便理解，我们将这些经过解析的字符串所生成的 context（上下文）命名为 Matrix")]),t._v(" "),e("li",[t._v("然后 PHP 解释器会根据从 Matrix 中解析出的特定 PHP 语句（如 require）载入其他 PHP 文件，并将其内容以字符串的形式加入 Matrix")]),t._v(" "),e("li",[t._v("最终 Matrix 变成一个数万行代码的巨型上下文（为了便于理解可以想象成巨长的代码文件字符串），PHP 解释器会按照 PHP 语法执行 Matrix，进行数据库连接、网络请求、文件读写等操作")]),t._v(" "),e("li",[t._v("每一次的 echo 都会被写入到输出缓冲区，最终这个巨长的代码字符串被执行完毕，PHP 进程退出内存")]),t._v(" "),e("li",[t._v("缓冲区中就是要发给用户的 HTTP response，其实就是一堆字符串，只不过它遵守 HTML 规范，可以被浏览器解析。这一堆字符串被 Apache 发送回用户的浏览器，浏览器渲染，用户看到内容")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);